{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ê¸€ì“°ê¸° âœï¸</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Gowun+Batang&display=swap');
    body { font-family: 'Gowun Batang', serif; }
  </style>
</head>
<body class="bg-[#FFF9F2] min-h-screen p-8">

  <div class="max-w-2xl mx-auto bg-white shadow-xl rounded-xl p-6 space-y-6">
    <form method="post" action="">
      {% csrf_token %}
      <!-- ì œëª© -->
      <div>
        <label class="block font-semibold text-[#493E3E] mb-1">ì œëª©</label>
        <input type="text" name="title" class="w-full border px-3 py-2 rounded-md" required />
      </div>

      <!-- í˜•ì‹ ì„ íƒ -->
      <!-- 1ë‹¨ê³„: ìƒìœ„ ì¹´í…Œê³ ë¦¬ -->
      <div class="mb-6">
          <p class="font-semibold text-[#493E3E]">ì˜¤ëŠ˜ì˜ ê¸€ì“°ê¸° ë„ìš°ë¯¸</p>
          <div class="flex gap-4">
              <label><input type="radio" name="category" value="emotion" onchange="showGenres(this.value)"> Fê°ì„± ê¸€ì½ì´</label>
            <label><input type="radio" name="category" value="logic" onchange="showGenres(this.value)"> Tê°ì„± ë§ì½ì´</label>
          </div>
        </div>
        
        <!-- 2ë‹¨ê³„: í•˜ìœ„ ì¥ë¥´ -->
        <div class="mb-6" id="genre-emotion" style="display:none;">
          <p class="font-semibold text-[#493E3E]">í˜•ì‹ì„ ê³¨ë¼ë³´ì„¸ìš” (ê¸€ì½ì´)</p>
          <div class="flex gap-4">
            <label><input type="radio" name="genre" value="essay" onchange="showGuide(this.value)"> ì—ì„¸ì´</label>
            <label><input type="radio" name="genre" value="poem" onchange="showGuide(this.value)"> ì‹œ</label>
          </div>
        </div>
      
        <div class="mb-6" id="genre-logic" style="display:none;">
          <p class="font-semibold text-[#493E3E]">í˜•ì‹ì„ ê³¨ë¼ë³´ì„¸ìš” (ë§ì½ì´)</p>
          <div class="flex gap-4">
            <label><input type="radio" name="genre" value="column" onchange="showGuide(this.value)"> ì¹¼ëŸ¼</label>
            <label><input type="radio" name="genre" value="analysis" onchange="showGuide(this.value)"> ë¶„ì„ê¸€</label>
          </div>
        </div>
        
        

      <!-- ê°€ì´ë“œ + ì‘ì„± ëª¨ë“ˆ (ë‹¨ê³„ë³„ ë¶„í• ) -->
      <div id="guide-box">
        <div id="guide-column" style="display:none">{% include "post/_guide_column.html" %}</div>
        <div id="guide-analysis" style="display:none">{% include "post/_guide_analysis.html" %}</div>
        <div id="guide-essay" style="display:none">{% include "post/_guide_essay.html" %}</div>
        <div id="guide-poem" style="display:none">{% include "post/_guide_poem.html" %}</div>
      </div>


      <!-- ğŸ§© ìµœì¢… í†µí•© ì‘ì„±ë€ -->
      <div class="mb-8 mt-8">
          <p class="font-bold text-[#493E3E] text-lg mb-2">ğŸ§© ê¸€ì¤„ê¸°: í•˜ë‚˜ì˜ ê¸€ë¡œ ì™„ì„±í•´ë³´ì„¸ìš”</p>
          <p class="text-sm text-gray-700 mb-3">
          ìœ„ ë‹¨ê³„ë³„ ì‘ì„± ë‚´ìš©ì„ ì°¸ê³ í•˜ì—¬, ë‹¹ì‹ ì˜ ìƒê°ì„ í•˜ë‚˜ì˜ íë¦„ ìˆëŠ” ê¸€ë¡œ ì •ë¦¬í•´ë³´ì„¸ìš”.<br />
          ì´ ê¸€ì€ ì‹¤ì œ ì œì¶œ ë° ê³µê°œ ê¸€ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆì–´ìš” âœï¸
          </p>
          <textarea name="final_text" rows="10" class="w-full border px-4 py-3 rounded-md shadow-sm"></textarea>
      </div>
      

      <!-- ì œì¶œ -->
      <div class="text-center">
        <button type="submit" class="bg-[#F9DCC4] hover:bg-[#f7cbaa] text-[#493E3E] font-bold px-6 py-3 rounded-full transition">
          ì œì¶œí•˜ê¸°
        </button>
      </div>
    </form>
  </div>

  <!-- JS: ìƒìœ„ ì¹´í…Œê³ ë¦¬ ì„ íƒ + í˜•ì‹ë³„ ê°€ì´ë“œ í‘œì‹œ -->
<script>
    function showGenres(category) {
      // ìƒìœ„ ì¹´í…Œê³ ë¦¬ì— ë”°ë¼ í•˜ìœ„ ì¥ë¥´ ë¸”ë¡ í‘œì‹œ
      document.getElementById('genre-logic').style.display = category === 'logic' ? 'block' : 'none';
      document.getElementById('genre-emotion').style.display = category === 'emotion' ? 'block' : 'none';
  
      // ì„ íƒ ì´ˆê¸°í™” (ê¸°ì¡´ ê°€ì´ë“œ ìˆ¨ê¸°ê¸°)
      const all = ['column', 'analysis', 'essay', 'poem'];
      all.forEach(id => {
        const div = document.getElementById(`guide-${id}`);
        if (div) div.style.display = 'none';
      });
    }
  
    function showGuide(value) {
      // ì„ íƒí•œ ì¥ë¥´ì˜ ê°€ì´ë“œë§Œ ë³´ì—¬ì£¼ê¸°
      const all = ['column', 'analysis', 'essay', 'poem'];
      all.forEach(id => {
        const div = document.getElementById(`guide-${id}`);
        if (div) div.style.display = 'none';
      });
      const target = document.getElementById(`guide-${value}`);
      if (target) target.style.display = 'block';
    }
  </script>
  
</body>
</html>
