{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ê¸€ì“°ê¸° ë¦¬í¬íŠ¸</title>
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-[#FFF9F2] text-[#493E3E] font-[Gowun Batang] p-6">

  <div class="max-w-4xl mx-auto space-y-12">
    
    <!-- í—¤ë” -->
    <div class="text-center mb-8">
        <h1 class="text-3xl font-bold mb-2">ğŸ“Š ë‚˜ì˜ ê¸€ì“°ê¸° ë¦¬í¬íŠ¸</h1>
        {% if peak_time_group %}
          <p class="text-lg">ğŸ•’ ë‹¹ì‹ ì€ <strong class="text-blue-600">{{ peak_time_group }}</strong> ì‹œê°„ëŒ€ì— ê°€ì¥ í™œë°œí•˜ê²Œ ê¸€ì„ ì”ë‹ˆë‹¤.</p>
        {% endif %}
    </div>      
    <!-- ì‹œê°„ëŒ€ ë¶„ì„ -->
    <div class="bg-white rounded-2xl shadow-xl p-6">
      <h2 class="text-xl font-bold mb-2">ğŸ• ì‹œê°„ëŒ€ë³„ ì‘ì„± ë¹ˆë„</h2>
      <p class="mb-4">í•˜ë£¨ ì¤‘ ì–¸ì œ ê¸€ì„ ì“°ëŠ”ì§€ í•œëˆˆì— í™•ì¸í•´ë³´ì„¸ìš”.</p>
      <div id="hourChart"></div>
    </div>

    <!-- ì›”ë³„ ì‘ì„±ëŸ‰ ë¶„ì„ -->
    <div class="bg-white rounded-2xl shadow-xl p-6">
      <h2 class="text-xl font-bold mb-2">ğŸ“… ì›”ë³„ ê¸€ì“°ê¸° ì¶”ì„¸</h2>
      <p class="mb-4">ìµœê·¼ í™œë™ì´ ì–¼ë§ˆë‚˜ í™œë°œí–ˆëŠ”ì§€ ì‚´í´ë³´ì„¸ìš”.</p>
      <div id="monthChart"></div>
    </div>
  </div>

  <!-- Chart JS -->
  <script>
    const hourOptions = {
      chart: {
        type: 'bar',
        height: 300
      },
      series: [{
        name: 'ì‘ì„± ìˆ˜',
        data: {{ hour_values|safe }}
      }],
      xaxis: {
        categories: {{ hour_labels|safe }},
        title: { text: 'ì‹œê°„ëŒ€ (ì‹œ)' }
      },
      yaxis: {
        title: { text: 'ì‘ì„± íšŸìˆ˜' }
      },
      colors: ['#89ACDB'],
      dataLabels: { enabled: false }
    };
    new ApexCharts(document.querySelector("#hourChart"), hourOptions).render();

    const monthOptions = {
      chart: {
        type: 'line',
        height: 300
      },
      series: [{
        name: 'ì‘ì„± ìˆ˜',
        data: {{ month_values|safe }}
      }],
      xaxis: {
        categories: {{ month_labels|safe }},
        title: { text: 'ì›”' }
      },
      yaxis: {
        title: { text: 'ì‘ì„± íšŸìˆ˜' }
      },
      colors: ['#F9A8D4'],
      dataLabels: { enabled: true }
    };
    new ApexCharts(document.querySelector("#monthChart"), monthOptions).render();
  </script>
</body>
</html>
